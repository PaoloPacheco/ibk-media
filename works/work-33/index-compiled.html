<div id="action_insert_20002">
  <style type="text/css">
    *,:after,:before{box-sizing:border-box;margin:0;outline:none;padding:0}a{color:inherit;cursor:pointer;text-decoration:none}[type=button],[type=reset],[type=submit],button{background-color:transparent;border-width:0;color:inherit;cursor:pointer;padding:0}img{max-width:100%}input::-moz-focus-inner{border:0;margin:0;padding:0}dd,ol,ul{list-style:none}html{-webkit-text-size-adjust:100%;line-height:1.15}main{display:block}h1{font-size:2em}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:root{--primary:#05be50;--secondary:#0039a6;--blue:#2f4a9f;--secondaryrgb:#0039a6;--light:#eceded;--white:#fff;--silver:#b7babc;--gray:#9b9b9b;--sky:#83c3eb;--semiwhite:#f3f6fb;--skydark:#6688ca;--dark:#404040;--darkrgb:#0f191e;--blackrgb:#0f191e}.mk-bold{font-weight:700}.mk-semibold{font-weight:500}.mk-container{margin:0 auto;max-width:1066px;width:100%}@media (max-width:1023px){.mk-container{padding:0 24px}}.mkv33--overlay{background-color:rgba(0,0,0,.4);z-index:99}.mkv33--overlay,.mkv33--popup{bottom:0;height:100vh;left:0;position:fixed;right:0;top:0;width:100vw}.mkv33--popup{align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-content:center;padding:16px}.mkv33 *{border:none;box-sizing:border-box;margin:0;padding:0}.mkv33--wrapper{background:#fff;border-radius:8px;box-shadow:0 4px 10px 0 rgba(0,0,0,.15);max-width:320px;overflow:hidden;width:100%}.mkv33--wrapper__content{position:relative}.mkv33--wrapper__content.thank .mkv33--close:after,.mkv33--wrapper__content.thank .mkv33--close:before{background-color:var(--silver)}.mkv33--global{position:relative;z-index:9}.mkv33--header{position:relative;width:100%}.mkv33--close{height:16px;position:relative;width:16px;z-index:10}.mkv33--close:after,.mkv33--close:before{background:var(--white);border-radius:2px;content:"";display:block;height:2px;left:50%;margin-bottom:4px;position:absolute;top:0;width:20px}.mkv33--close:before{transform:rotate(45deg) translate(-2px,12px)}.mkv33--close:after{transform:rotate(-45deg) translate(-12px,-2px)}.mkv33--close__row{cursor:pointer;padding:6px;position:absolute;right:12px;top:9px}.mkv33--body{padding:24px;width:100%}.mkv33--body__footer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;flex-direction:column;gap:12px}.mkv33--title{color:var(--secondary);font-family:Geometria;font-size:18px;font-weight:400;line-height:16px;margin-bottom:18px;text-align:center;width:100%}.mkv33--title__medium{font-weight:500}.mkv33--excerpt{color:#0f191e;font-family:Geometria;font-size:14px;line-height:16px;margin-bottom:20px;text-align:center}.mkv33--questions{margin-bottom:26px}.mkv33--questions__item:not(:last-of-type){margin-bottom:9px}.mkv33--input{gap:6px}.mkv33--input__label{display:block;position:relative;width:100%}.mkv33--input__radio{left:0;position:absolute;top:0;visibility:hidden;z-index:-1}.mkv33--input__radio:checked+.mkv33--input__span{background-color:var(--secondary);color:var(--white)}.mkv33--input__span{align-items:center;border:1px solid var(--secondary);border-radius:16px;color:#3c3c3c;color:var(--secondary);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Geometria,sans-serif;font-size:12px;height:32px;letter-spacing:-.1px;line-height:20px;padding:12px;text-align:center;transition:all .15s ease-in-out}.mkv33--btn,.mkv33--input__span{justify-content:center;width:100%}.mkv33--btn{border-radius:4px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;font-family:Geometria;font-size:14px;font-weight:500;letter-spacing:normal;line-height:44px;padding:0 28px;text-decoration:none;white-space:nowrap}.mkv33--btn__primary{background-color:var(--primary);color:var(--white)}.mkv33--btn__white{color:var(--primary);font-family:Geometria}.mkv33--btn:disabled{background-color:var(--light);color:var(--silver);cursor:default}.mkv33--picture{background-color:var(--sky);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-content:center;width:100%}.mkv33--picture__content{border-end-end-radius:8px;overflow:hidden;position:relative;width:100%}@media (min-width:480px){.mkv33--picture__content{height:100%}}.mkv33--profile_content{position:relative;width:100%}.mkv33--image_background{display:block;width:100%}@media (min-width:480px){.mkv33--image_background{-o-object-fit:cover;object-fit:cover}}.mkv33--image_profile{bottom:0;left:50%;position:absolute;transform:translateX(-50%);width:64px}@media (min-width:480px){.mkv33--image_profile{width:90px}}.mkv33--small{font-size:12px;line-height:18px}.mkv33--thank__picture{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;justify-content:center;width:100%}.mkv33--thank__header{margin-bottom:12px}.mkv33--thank__title{font-size:20px;line-height:22px}.mkv33--thank__content{padding:88px 24px 40px}.mkv33--thank__excerpt{margin-bottom:12px;min-height:78px}
  </style>

  <script>
    var popupJS = (function () {
      popupJS.prototype.events = function (close) {
        var body = document.querySelector("body") || document.body;
        body.classList.add("tg");
        var overlay = this.elementOverlay;
        close.addEventListener("click", function (e) {
          e.preventDefault();
          overlay.classList.add("animate__fadeOut");
          overlay.remove();
        });
      };

      popupJS.prototype.show = function () {
        var overlay = this.elementOverlay;
        var popup = document.createElement("div");
        var questions = '';

        popup.classList.add("mkv33--popup");

        if (options.questions.length) {
          questions += `<div class="mkv33--questions">`;

          options.questions.forEach((element, index) => {
            questions += `<div class="mkv33--questions__item">
                  <div class="mkv33--input">
                    <div class="mkv33--label">
                      <label for="option-` + index + `" class="mkv33--input__label">
                        <input type="radio" class="mkv33--input__radio"
                        name="option" id="option-` + index + `"
                        value="` + element + `">
                        <span class="mkv33--input__span">` + element + `</span>
                      </label>
                    </div>
                  </div>
                </div>`;
          });

          questions += `</div>`;
        }

        popup.innerHTML = `<div class="mkv33--wrapper">
              <div class="mkv33--wrapper__content">
                <div class="mkv33--close__row"  id="mkv33Close">
                  <div class="mkv33--close"></div>
                </div>
                <div class="mkv33--global" id="mkv33Global">
                  <div class="mkv33--header">
                    <div class="mkv33--picture__content">
                      <picture class="mkv33--picture">
                        <source srcset="` + options.img1x + `" media="(max-width: 480px)">
                        <img class="mkv33--image__background" src="` + options.img2x + `" alt="` + clearHTMLTags(options.title) + `" width="148" height="140">
                      </picture>
                    </div>
                  </div>
                  <div class="mkv33--body">
                    <div class="mkv33--body__content">
                      <div class="mkv33--body__left">
                        <div class="mkv33--header__title">
                          <h4 class="mkv33--title">` + options.title + `</h4>
                          <div class="mkv33--excerpt">` + options.excerpt + `</div>` + questions + `
                        </div>
                      </div>
                    </div>
                    <div class="mkv33--body__footer">
                      <button type="button" class="mkv33--btn mkv33--btn__primary" id="mkv33Send" title="` + options.link.text + `" disabled>` + options.link.text + `</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>`;

        var close = popup.querySelector(".mkv33--close");
        this.events(close);

        overlay.appendChild(popup);
        document.body.appendChild(overlay);

        enableSend();

        // TODO: Evento visualización del modal.
        console.log(`Evento visualización del modal`);
      };

      popupJS.prototype.overlay = function () {
        var overlay = document.createElement("div");
        overlay.classList.add("mkv33--overlay");
        return overlay;
      };

      function popupJS(options) {
        options.link.target = options.link.target || "_self";
        this.elementOverlay = this.overlay();
      }

      function clearHTMLTags(string) {
        let stringClear = string.replaceAll(/<\/?[^>]+(>|$)/gi, "");
        return stringClear;
      }

      function enableSend() {
        var mkv33radios = document.querySelectorAll('.mkv33--input__radio');
        const senBtn = document.getElementById('mkv33Send')

        mkv33radios.forEach(mkv33radio => {
          mkv33radio.onchange = function () {
            // Retorna el valor seleccionado...
            console.log('Value: ', mkv33radio.value);

            // y habilita el botón Enviar.
            // if (mkv33radio.value !== '') {
            senBtn.removeAttribute('disabled');
            // }
          }
        })
      }

      return popupJS;
    })();

    var options = {
      title:
        'Tenemos nuevo módulo de <span class="mkv33--title__medium">pago de créditos</span>',
      titleThank:
        '<span class="mkv33--title__medium">¡Gracias por tus<br> respuestas!</span>',
      excerpt:
        '¿Utilizas nuestro módulo de pagos de créditos pequeña empresa?',
      link: {
        url: "#",
        text: "Enviar",
        target: "_blank",
      },
      link2: {
        text: "Entendido",
      },
      img1x:
        "https://paolopacheco.github.io/ibk-media/images/pago-de-creditos.png",
      img2x:
        "https://paolopacheco.github.io/ibk-media/images/pago-de-creditos.png",
      imgThank1x:
        "https://paolopacheco.github.io/ibk-media/images/thank.png",
      imgThank2x:
        "https://paolopacheco.github.io/ibk-media/images/thank.png",
      questions: [
        'Todos los meses',
        'Hago mis pagos en tiendas Interbank',
        'No tengo créditos pequeña empresa',
      ],
      enableThank: true, // Habilita la pantalla de agradecimiento.
    };

    var popup = new popupJS(options);

    (function () {
      popup.show();

      // TODO: Evento botón Abrir aqui.
      document.getElementById("mkv33Send").onclick = function (e) {
        e.preventDefault();

        if (options.enableThank) {
          const content = document.getElementById('mkv33Global');
          const wrapper = document.querySelector('.mkv33--wrapper__content');
          sendValues(content, wrapper);
        } else {
          closePopup();
        }

        console.log(`Evento botón Abrir aqui`);
      };

      // TODO: Evento botón Cerrar modal.
      document.getElementById("mkv33Close").onclick = function () {
        console.log(`Evento botón Cerrar modal`);
      };

      function sendValues(container, wrapper) {
        const thankHtml = `<div class="mkv33--thank">
            <div class="mkv33--thank__content">
              <div class="mkv33--thank__header">
                <picture class="mkv33--thank__picture">
                  <source srcset="` + options.imgThank1x + `" media="(max-width: 480px)">
                  <img class="mkv33--image__background" src="` + options.imgThank1x + `" alt="" width="203" height="143">
                </picture>
              </div>
              <div class="mkv33--thank__body">
                <div class="mkv33--header__title">
                  <h4 class="mkv33--title mkv33--thank__title">` + options.titleThank + `</h4>
                  <div class="mkv33--thank__excerpt"></div>
                </div>
              </div>
              <div class="mkv33--thank__footer">
                <button type="button" class="mkv33--btn mkv33--btn__primary" id="mkv33Finish" title="` + options.link2.text + `">` + options.link2.text + `</button>
              </div>
            </div>
          </div>`;

        wrapper.classList.add('thank');
        container.innerHTML = thankHtml;

        document.getElementById('mkv33Finish').onclick = function (e) {
          // TODO: Evento botón Entendido.
          closePopup();
        }
      }

      function closePopup() {
        let overlay = document.querySelector('.mkv33--overlay');
        overlay.classList.add("animate__fadeOut");
        overlay.remove();
      }
    })();
  </script>
</div>